---
import BlogPost from '../components/BlogPost.astro';
import { getBlogPosts } from '../lib/posts';

let posts = [];
try {
  posts = await getBlogPosts();
  console.log(posts);
} catch (error) {
  console.warn('Failed to fetch blog posts:', error);
}
---

<div class="blog-list">
  {posts.length > 0 ? (
    posts.map((post) => <BlogPost post={post} />)
  ) : (
    <p>Blog posts are temporarily unavailable. Please check back later.</p>
  )}
</div>